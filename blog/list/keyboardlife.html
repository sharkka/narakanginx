<!DOCTYPE html>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<html>
<head>
<title>我的键盘人生</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: 楷体, Verdana, Arial, sans-serif;
        background-color: #D7D6AD
    }
    pre {
        font-family: Source Pro, Courier New, Consolas, Comic sans MS;
        color:        rgb(160, 30, 20);
        font-size:   16px;
        font-style:  italic;
    }
    a {
        font-family: Courier New;
        color:blue;
        font-size:20px;
        font-weight:bold;
    }
    a:link {
        color: rgb(200, 100, 20);
    }
    a:visited {
        color: rgb(200, 20, 20);
        font-size:20px;
    }
    a:hover {
        color: red;
        font-size:22px;
    }
    a:active {
        color: yellow;
        font-size:24px;
    }
</style>
</head>
<body>

<hr />
<script type="text/javascript">
var s=`键盘之路。。。
    现在这个年龄，我知道，段落轴有它自己的魅力，然而，越发喜欢线轴，线性轴适合我这个年龄，它不像段落轴那样，明确的提醒你的开始下落与结束，线性，由自己来控制开始，下落与结束，可轻，可重，可快，可慢，有太多的理由，需要你决定按下这一次的方式，线性，不等于没有声音，线轴的声音依然需要你自己来控制，相比于段落轴，别无选择的咔嚓声，线轴色厉内荏，我明白，我应该在怎样的场合发怎样的声音，它可以让你很好的隐藏你的想法，也可以让你张扬你的个性，全凭你自己来把控，但更多的是一种平静、舒缓、自由的表达。。

`;

s = s.replace(/\r\n/g,"<br>")
s = s.replace(/\n/g,"<br>");
s = s.replace(/ /g,"&nbsp");
document.write(`<font face="楷体">`
    + s.fontcolor("rgb(200, 240, 60)").fontsize(4)
    + `</font>`);
</script>

<hr />
<pre>
    有这么几件事，学校不教，爹妈不聊，国人要想有所成，全靠天赋，或者自学成才。
    第一，如何谈恋爱，
    第二，如何做父母，
    第三，如何面对老去和死亡。

    前两者好歹还能凭借天生的荷尔蒙和受进化保护的责任感玩出个一二三，玩得不好大不了从头来过。
可这第三件，每个人都在漫长的讳莫如深后突然迎接了它的到来，接着手足无措茫然尴尬地应对起生命
中最后来访的朋友。

</pre>
<img src="/imgs/goldenii.jpg" wight=600 height=600 alt="" />
<hr />
<pre>

试着给那把球帽做一个主控吧

/**
 * @File     cuskbd.h
 * @Brief    
 * @Author   Naraka
 * @DateTime 2019/9/2 10:29:23
 */

#include <Keypad.h>

char keys[4][4] = {
  {'1','2','3','A'},
  {'4','5','6','B'},
  {'7','8','9','C'},
  {'*','0','#','D'}
};
byte rowPins[4] = {9, 8, 7, 6}; //行所使用的针脚
byte colPins[4] = {5, 4, 3, 2}; //列所使用的针脚

Keypad keypad = Keypad( makeKeymap(keys), rowPins, colPins, 4, 4);
byte ledPin = 13;
 
boolean blink = false;

void setup(){
  Serial.begin(9600);
  pinMode(ledPin, OUTPUT);
  digitalWrite(ledPin, HIGH);
  // 添加监听事件 类似于SerialEvent
  keypad.addEventListener(keypadEvent);
  // 设置长按触发时间，默认为1000ms
  keypad.setHoldTime(500);
}

void loop() {
  char key = keypad.getKey();
  
  if (key) {
    Serial.println(key);
  }
  if (blink) {
    //*键长按每200ms闪一次，*键松开时停止
    digitalWrite(ledPin, !digitalRead(ledPin));
    delay(100);
  }
}
 
// 上边提到的监听事件，SerialEvent在每次循环结束会执行一次，这个估计也差不多。
// 总之程序一个循环只会执行一次吧
void keypadEvent(KeypadEvent key){
  switch (keypad.getState()) {
    // 获取键值
    case PRESSED:
      switch (key) {
        case '#': digitalWrite(ledPin,!digitalRead(ledPin));
          break;
        case '*': 
          digitalWrite(ledPin,!digitalRead(ledPin));
          break;
      }
    break;
    case RELEASED:
      switch (key) {
        case '*': 
          digitalWrite(ledPin,!digitalRead(ledPin));
          blink = false;
          break;
      }
    break;
    case HOLD:
      switch (key) {
        case '*': blink = true; break;
      }
      break;
  }
}
<pre />
<hr />

<pre>
这是我之前设计的101布局主控代码
101布局键盘，矩阵排布，主控代码

#include <Keypad.h>
#include "Keyboard.h"
#include <ctype.h>

const byte ROWS = 6;
const byte COLS = 22;

static byte kb52_1[5][13] = {
    { '`', 1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 8},
    { 27, 'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '[', ']', 13},
    { 16, 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';', '\"', 37, 39},
    { 20, 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.', '/', 16},
    { 144, 32}
};
static byte kb52_2[5][13] = {
    { '`', !', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', 8},
    { 27, 'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '{', '}' 13},
    { 16, 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';', '\"', 38, 40},
    { 20, 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.', '/', 16},
    { 144, 32}
};

static byte kb101[6][22] = {
    { 27, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 44, 145, 19 },
    { '`', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 220, 8, 45, 36, 33, 144, 111, 104, 109 },
    { 9, 'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '[', ']', 46, 35, 34, 103, 104, 105, 107 },
    { 20, 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';', 222, 13, 100, 101, 102 },
    { 16, 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.', '/', 16, 38, 97, 98, 99, 13 },
    { 17, 18, 32, 18, 17, 37, 40, 39, 96, 110 }
};

static byte kb104[6][22] = {
    { 27, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 44, 145, 19 },
    { '`','1','2','3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 220, 8, 45, 36, 33, 144, 111, 104, 109 },
    { 9, 'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '[', ']', 46, 35, 34, 103, 104, 105, 107 },
    { ' ','a','s','d', 'f', 'g', 'h', 'j', 'k', 'l', ';', 222, 13, 100, 101, 102 },
    { 16, 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.', '/', 16, 38, 97, 98, 99, 13 },
    { 17, 91, 18, 32, 18, 255, 93, 17, 37, 40, 39, 96, 110 }
};

static byte rowPins[6] = { 9, 8, 7, 6, 5, 4 };
static byte colPins[22] = { 44, 43, 42, 41, 40, 39, 38, 37, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12 };

static char* keypadMap = makeKeymap(kb101);

static Keypad keypad = Keypad(keypadMap, rowPins, colPins, 6, 22);

static unsigned long startTime;
static const byte ledPin = 6;

void keyboardEvent(KeypadEvent key);
/**
 * @Method   setup
 * @Brief
 * @DateTime 2019-01-09T11:15:14+0800
 * @Modify   2019-01-09T11:15:14+0800
 * @Author   Naraka
 * @return   void
 */
static void setup() {
    Serial.begin(9600);
    pinMode(ledPin, OUTPUT);
    keypad.addEventListener(keypadEvent);
    keypad.setHoldTime(500);
    Keyboard.begin();
    configPin();
}
/**
 * @Method   configPin
 * @Brief
 * @DateTime 2019-01-09T11:14:28+0800
 * @Modify   2019-01-09T11:14:28+0800
 * @Author   Naraka
 * @return   void
 */
static void configPin() {
    for (int i = 0; i < sizeof(rowPins); ++ i) {
        pinMode(rowPins[i], INPUT);
    }
    for (int j = 0; j < sizeof(colPins); ++ j) {
        pinMode(colPins[j], INPUT);
    }
}
/**
 * @Method   loop
 * @Brief
 * @DateTime 2019-01-09T11:14:32+0800
 * @Modify   2019-01-09T11:14:32+0800
 * @Author   Naraka
 * @return   void
 */
static void loop() {
    digitalWrite(ledPin, HIGH);
    delay(1000);
    digitalWrite(ledPin, LOW);
    delay(1000);
}
/**
 * @Method   keypadEvent
 * @Brief
 * @DateTime 2019-01-09T11:14:36+0800
 * @Modify   2019-01-09T11:14:36+0800
 * @Author   Naraka
 * @param    KeypadEvent key keyboard ascii code
 * @return   void
 */
static void keypadEvent(KeypadEvent key) {
    switch (keypad.getState()){
    case PRESSED:
        Keyboard.press(key);
        break;
    case RELEASED:
        Keyboard.release(key);
        break;
    case HOLD:
        Keyboard.press(key);
        delay(33);
        Keyboard.release(key);
        break;
    }
}
</pre>
<hr />

<br />
<script type="text/javascript">
var s=`回来，我养你啊。。。键盘
`;

s = s.replace(/\r\n/g,"<br>")
s = s.replace(/\n/g,"<br>");
s = s.replace(/ /g,"&nbsp");
document.write(`<font face="楷体">`
    + s.fontcolor("rgb(200, 240, 60)").fontsize(4)
    + `</font>`);
</script>
<img src="/imgs/xjzwkbd.jpg" wight=568 height=1600 alt="" />

<hr />

<h2>End</h2>

</body>
</html>